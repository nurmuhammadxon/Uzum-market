let product__data = [
    {
        id: 1,
        imge: './Images/product images/product1.png',
        image__alt: "Xo'jalik o'simlik yo'gi",
        product__content: "Xo'jalik o'simlik yog'i",
        degree: "5.0",
        comment: "13",
        installmentPayment: "1 820 so'm/oyiga",
        old__price: "19 000 so'm",
        new__price: "14 000 so'm",
        category: ["Popular", "Uyda savdo"],
        quantity: 1,
        like: false,
    },
    {
        id: 2,
        imge: './Images/product images/product2.png',
        image__alt: "Melek bug'doy uni",
        product__content: "Melek bug'doy unining birinchi navi, 1 kg",
        degree: "5.0",
        comment: "5",
        installmentPayment: "600 so'm/oyiga",
        old__price: "10 000 so'm",
        new__price: "5 000 so'm",
        category: ["Popular", "Uyda savdo"],
        quantity: 1,
        like: false,
    },
    {
        id: 3,
        imge: './Images/product images/product3.png',
        image__alt: "Perla taglik",
        product__content: "Perla, bolalar uchun taglik",
        degree: "5.0",
        comment: "2",
        installmentPayment: "6 840 so'm/oyiga",
        old__price: "70 000 so'm",
        new__price: "57 000 so'm",
        category: ["Popular"],
        quantity: 1,
        like: false,
    },
    {
        id: 4,
        imge: './Images/product images/product4.png',
        image__alt: "Pepsi va Xurmo",
        product__content: "Pepsi va Xurmo, iftorlik uchun",
        degree: "4.7",
        comment: "34",
        installmentPayment: "2 640 so'm/oyiga",
        old__price: "26 000 so'm",
        new__price: "22 000 so'm",
        category: ["Popular"],
        quantity: 1,
        like: false,
    },
    {
        id: 5,
        imge: './Images/product images/product5.png',
        image__alt: "Zam Zam suv",
        product__content: "Zam Zam mineral suvi 200 ml",
        degree: "5.0",
        comment: "1",
        installmentPayment: "960 so'm/oyiga",
        old__price: "10 000 so'm",
        new__price: "8 000 so'm",
        category: ["Popular"],
        quantity: 1,
        like: false,
    },
    {
        id: 6,
        imge: './Images/product images/product6.png',
        image__alt: "Pegas sovun-krem",
        product__content: "Suyuq sovun-krem Pegas, 1 l",
        degree: "4.9",
        comment: "223",
        installmentPayment: "1 680 so'm/oyiga",
        old__price: "25 000 so'm",
        new__price: "14 000 so'm",
        category: ["Popular", "Uyda savdo", "Omabob"],
        quantity: 1,
        like: false,
    },

    {
        id: 7,
        imge: './Images/product images/product7.png',
        image__alt: "Simsiz quloqchin",
        product__content: "Simsiz quloqchinlar",
        degree: "4.1",
        comment: "280",
        installmentPayment: "4 290 so'm/oyiga",
        old__price: "200 000 so'm",
        new__price: "33 000  so'm",
        category: ["Popular"],
        quantity: 1,
        like: false,
    },
    {
        id: 8,
        imge: './Images/product images/product8.png',
        image__alt: "Xurmolar",
        product__content: "Xurmolar Handa Kalootex sanalari, 450 yil",
        degree: "4.7",
        comment: "155",
        installmentPayment: "1 920 so'm/oyiga",
        old__price: "25 000 so'm",
        new__price: "16 000 so'm",
        category: ["Popular", "Uyda savdo"],
        quantity: 1,
        like: false,
    },
    {
        id: 9,
        imge: './Images/product images/product9.png',
        image__alt: "Listlar",
        product__content: "Kompyuter uchun qog'ozlar",
        degree: "5.0",
        comment: "101",
        installmentPayment: "6 600 so'm/oyiga",
        old__price: "58 000 so'm",
        new__price: "55 000 so'm",
        category: ["Popular", "Omabob"],
        quantity: 1,
        like: false,
    },
    {
        id: 10,
        imge: './Images/product images/product10.png',
        image__alt: "Chak chak",
        product__content: `Chak-chak "Bol chak-chak" briketda, 165 g`,
        degree: "5.0",
        comment: "101",
        installmentPayment: "6 600 so'm/oyiga",
        old__price: "58 000 so'm",
        new__price: "55 000 so'm",
        category: ["Popular", "Uyda savdo"],
        quantity: 1,
        like: false,
    },
    {
        id: 11,
        imge: './Images/product images/product11.png',
        image__alt: "Choy to'plami",
        product__content: `Greenfield choy to'plami 200g + krujka`,
        degree: "4.7",
        comment: "63",
        installmentPayment: "9 840 so'm/oyiga",
        old__price: "",
        new__price: "82 000 so'm",
        category: ["Popular"],
        quantity: 1,
        like: false,
    },
    {
        id: 12,
        imge: './Images/product images/product12.png',
        image__alt: "Parfyum",
        product__content: `Bushra Aqua parfyum, 100 ml`,
        degree: "4.0",
        comment: "150",
        installmentPayment: "10 010 so'm/oyiga",
        old__price: "150 000 so'm",
        new__price: "77 000 so'm",
        category: ["Popular"],
        quantity: 1,
        like: false,
    },
    {
        id: 13,
        imge: './Images/product images/product13.png',
        image__alt: "Nomoz uchun kiyim",
        product__content: `Namoz uchun erkaklar kiyimi`,
        degree: "5.0",
        comment: "1",
        installmentPayment: "21 000 so'm/oyiga",
        old__price: "273 000 so'm",
        new__price: "175 000 so'm",
        category: ["Popular"],
        quantity: 1,
        like: false,
    },
    {
        id: 14,
        imge: './Images/product images/product14.png',
        image__alt: "Qog'oz salfetkalar",
        product__content: `Qog'oz salfetkalar Esty, 23x24 sm, 100 dona`,
        degree: "5.0",
        comment: "61",
        installmentPayment: "360 so'm/oyiga",
        old__price: "4 000 so'm",
        new__price: "3 000 so'm",
        category: ["Popular", "Uyda savdo"],
        quantity: 1,
        like: false,
    },
    {
        id: 15,
        imge: './Images/product images/product15.png',
        image__alt: "Bayram bezaklari",
        product__content: `Ramazon Karrem bayrami bezaklari`,
        degree: "5.0",
        comment: "6",
        installmentPayment: "6 890 so'm/oyiga",
        old__price: "85 000 so'm",
        new__price: "53 000 so'm",
        category: ["Popular"],
        quantity: 1,
        like: false,
    },
    {
        id: 16,
        imge: './Images/product images/product16.png',
        image__alt: "tish cho'tkasi",
        product__content: `tish cho'tkasi to'plamidagi bambuk tish cho'tkalari / 4 dona`,
        degree: "4.9",
        comment: "27",
        installmentPayment: "3 250 so'm/oyiga",
        old__price: "60 000 so'm",
        new__price: "25 000 so'm",
        category: ["Popular"],
        quantity: 1,
        like: false,
    },
    {
        id: 17,
        imge: './Images/product images/product17.png',
        image__alt: "tualet qog'ozi",
        product__content: `Esty hojatxona qog'ozi, 8 dona`,
        degree: "4.9",
        comment: "77",
        installmentPayment: "2 520 so'm/oyiga",
        old__price: "25 000 so'm",
        new__price: "21 000 so'm",
        category: ["Popular", "Omabob"],
        quantity: 1,
        like: false,
    },
    {
        id: 18,
        imge: './Images/product images/product18.png',
        image__alt: "Krem",
        product__content: `krem`,
        degree: "5.0",
        comment: "2",
        installmentPayment: "4 680 so'm/oyiga",
        old__price: "46 000 so'm",
        new__price: "39 000 so'm",
        category: ["Popular"],
        quantity: 1,
        like: false,
    },
    {
        id: 19,
        imge: './Images/product images/product19.png',
        image__alt: "Aqua prfyum",
        product__content: `Naseem Lamsa Aqua parfyumeriya spreyi, 30 ml`,
        degree: "4.8",
        comment: "8",
        installmentPayment: "6 370 so'm/oyiga",
        old__price: "90 000 so'm",
        new__price: "49 000 so'm",
        category: ["Popular"],
        quantity: 1,
        like: false,
    },
    {
        id: 20,
        imge: './Images/product images/product20.png',
        image__alt: "Krem",
        product__content: `Chang yutgich Bosch BGC21X300`,
        degree: "4.9",
        comment: "17",
        installmentPayment: "211 440 so'm/oyiga",
        old__price: "2 181 000 so'm",
        new__price: "1 762 000 so'm",
        category: ["Popular"],
        quantity: 1,
        like: false,
    },
    {
        id: 21,
        imge: `./Images/product images/product21.png`,
        image__alt: "",
        product__content: "",
        degree: "5.0",
        comment: "3",
        installmentPayment: "37 200 so'm/oyiga",
        old__price: "",
        new__price: "310 000 so'm",
        category: ["Bo'lib to'lash", "Omabob"],
        quantity: 1,
        like: false,
    },
    {
        id: 22,
        imge: `./Images/product images/product22.png`,
        image__alt: "Ayyollar shippaklari",
        product__content: "Ayollar shippaklari Stradivarius, Bershka, ZARA Turkiye",
        degree: "5.0",
        comment: "5",
        installmentPayment: "38 870 so'm/oyiga",
        old__price: "499 000 so'm",
        new__price: "299 000 so'm",
        category: ["Bo'lib to'lash"],
        quantity: 1,
        like: false,
    },
    {
        id: 23,
        imge: `./Images/product images/product23.png`,
        image__alt: "Simsiz quloqchinlar",
        product__content: "Simsiz quloqchinlar Xiaomi Redmi Buds 3 Lite Black",
        degree: "4.9",
        comment: "23",
        installmentPayment: "23 760 so'm/oyiga",
        old__price: "301 000 so'm",
        new__price: "198 000 so'm",
        category: ["Bo'lib to'lash"],
        quantity: 1,
        like: false,
    },
    {
        id: 24,
        imge: `./Images/product images/product24.png`,
        image__alt: "Elektr suv nasosi",
        product__content: "Elektr suv nasosi, zaryadlash, avtomatik",
        degree: "5.0",
        comment: "15",
        installmentPayment: "9 360 so'm/oyiga",
        old__price: "107 000 so'm",
        new__price: "72 000 so'm",
        category: ["Bo'lib to'lash"],
        quantity: 1,
        like: false,
    },
    {
        id: 25,
        imge: `./Images/product images/product25.png`,
        image__alt: "",
        product__content: "",
        degree: "4.9",
        comment: "19",
        installmentPayment: "10 530 so'm/oyiga",
        old__price: "250 000 so'm",
        new__price: "81 000 so'm",
        category: ["Bo'lib to'lash"],
        quantity: 1,
        like: false,
    },
    {
        id: 26,
        imge: `./Images/product images/product26.png`,
        image__alt: "Hijob ro'mol",
        product__content: "Hijob, sharf ostidagi qalpoq",
        degree: "5.0",
        comment: "6",
        installmentPayment: "2 600 so'm/oyiga",
        old__price: "39 000 so'm",
        new__price: "20 000 so'm",
        category: ["Omabob"],
        quantity: 1,
        like: false,
    },
]

let swiper = new Swiper('.BannerSwiper', {
    loop: true,
    autoplay: {
        delay: 1500,
        disableOnInteraction: false,
    },
    slidesPerView: 1,
    spaceBetween: 6,
    navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
    },
    pagination: {
        el: '.swiper-pagination',
        clickable: true,
    },
});

let n = 10

function toggleLike() {
    product__data.forEach((item) => {
        const heartButtons = document.querySelectorAll('.heart__btn');
        heartButtons.forEach(button => {
            button.addEventListener('click', () => {
                const hearts = button.querySelectorAll('.heart');
                hearts.forEach(heart => {
                    if (!item.like) {
                        heart.classList.toggle('heart__hidden');
                    }
                });
            });
        });
    })
}

function renderProducts(productList, container) {
    container.innerHTML = '';
    for (let i = 0; i < n; i++) {
        if (i >= productList.length) break;
        const product = productList[i];
        container.innerHTML += `
        <div class="product__item">
            <div class="product__image">
                <div class="image__cover"></div>
                <div class="image__box">
                    <img src="${product.imge}" alt="${product.image__alt}">
                </div>
                <div class="heart__box">
                   <button class="heart__btn" onclick="likeProduct(${product.id})" data-product-id="${product.id}">
                        <i class='bx bx-heart heart'></i>
                        <i class='bx bxs-heart heart heart__hidden'></i>
                   </button>
                </div>
            </div>
            <div class="product__content__box">
                <div class="product__about__box">
                    <p class="conten__text">${product.product__content}</p>
                </div>
                <div class="degree__box">
                    <div class="degree__value__box">
                        <i class='bx bxs-star'></i>
                        <span class="degree__value">${product.degree}</span>
                    </div>
                    <div class="comment__box">
                        <span class="comment__number">
                            (${product.comment} sharhlar)
                        </span>
                    </div>
                </div>
                <div class="installment__payment__box">
                    <span class="installment__payment">${product.installmentPayment}</span>
                </div>
                 <div class="price__box">
                           <div class="product__price">
                               <span class="old__price">
                                   <del>${product.old__price}</del>
                               </span>
                               <span class="new__price">${product.new__price}</span>
                           </div>
                           <div class="shop__box">
                               <button class="shop__btn" onclick="shopProduct(${product.id})">
                                   <svg width="24" height="25" viewBox="0 0 24 25" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                       <path
                                           d="M8 10.3401V8.34009H6V12.8401C6 13.1162 5.77614 13.3401 5.5 13.3401C5.22386 13.3401 5 13.1162 5 12.8401V7.34009H8C8 4.93637 9.95227 3.34009 12 3.34009C14.0575 3.34009 16 5.04565 16 7.34009H19V19.8401C19 20.6685 18.3284 21.3401 17.5 21.3401H12.5C12.2239 21.3401 12 21.1162 12 20.8401C12 20.564 12.2239 20.3401 12.5 20.3401H17.5C17.7761 20.3401 18 20.1162 18 19.8401V8.34009H16V10.3401H15V8.34009H9V10.3401H8ZM12 4.34009C10.4477 4.34009 9 5.54381 9 7.34009H15C15 5.63453 13.5425 4.34009 12 4.34009Z"
                                           fill="#15151A" />
                                       <path
                                           d="M7.5 14.3401C7.77614 14.3401 8 14.564 8 14.8401V17.3401H10.5C10.7761 17.3401 11 17.564 11 17.8401C11 18.1162 10.7761 18.3401 10.5 18.3401H8V20.8401C8 21.1162 7.77614 21.3401 7.5 21.3401C7.22386 21.3401 7 21.1162 7 20.8401V18.3401H4.5C4.22386 18.3401 4 18.1162 4 17.8401C4 17.564 4.22386 17.3401 4.5 17.3401H7V14.8401C7 14.564 7.22386 14.3401 7.5 14.3401Z"
                                           fill="#15151A" />
                                   </svg>
                                   <i class='bx bx-check hidden'></i>
                               </button>
                           </div>
                       </div>
            </div>
        </div>
        `;
    };
    toggleLike();
}

let more__btn = document.querySelector('.more__product__btn')

more__btn.addEventListener('click', () => {
    n += 10;
    renderProducts(product__data, productListContainer);
});

const productListContainer = document.querySelector('.product__list');
renderProducts(product__data, productListContainer);
toggleLike();

function renderCategory(category, container) {
    const filteredProducts = product__data.filter(product => product.category.includes(category));
    renderProducts(filteredProducts, container);
}

let popularContainer = document.getElementById('popular-container')
let bolibTolashContainer = document.getElementById('bolibTolash-container')
let uydanChiqmasdanSavdoContainer = document.getElementById('uydaSavdo-container')
let omabobContainer = document.getElementById('omabob-container')

renderCategory("Popular", popularContainer);
renderCategory("Bo'lib to'lash", bolibTolashContainer);
renderCategory("Uyda savdo", uydanChiqmasdanSavdoContainer);
renderCategory("Omabob", omabobContainer);


let moreNavList = document.getElementById('more__nav__list')
let navbarBox = document.getElementById('navbarBox')

moreNavList.addEventListener('click', () => {
    let moreNavListBox = document.createElement('div')
    moreNavListBox.innerHTML = `
    `
})

const topBox = document.querySelector('.topBox');

window.addEventListener('scroll', () => {
    if (window.scrollY > 200) {
        topBox.classList.remove('hidden');
    } else {
        topBox.classList.add('hidden');
    }
});

topBox.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
});

const main = document.getElementById('main');
const LikeProductBtn = document.getElementById('likeProducts-btn')
const swiperBannerBox = document.getElementById('swiper-banner');
let LikeProductsBox = document.createElement('div')
LikeProductsBox.classList.add('products-container');

const karzinkaBtn = document.getElementById('karzinka');
let karzinkaBox = document.createElement('div');
karzinkaBox.classList.add('products-container');

let LikeProducts = JSON.parse(localStorage.getItem('LikeProducts')) || [];

function likeProduct(productId) {
    const product = product__data.find(item => item.id === productId);

    if (product) {
        if (product.like) {
            alert("Bu mahsulot allaqachon 'yoqilgan'!");
            return;
        }

        product.like = true;

        const existingProduct = LikeProducts.find(item => item.id === productId);
        if (!existingProduct) {
            LikeProducts.push({ ...product, quantity: 1 });
        }

        localStorage.setItem('LikeProducts', JSON.stringify(LikeProducts));
        updateLikeProductsUI();
    } else {
        alert("Mahsulot topilmadi!");
    }
}

function showEmptyLikeProductsUI() {
    LikeProductsBox.innerHTML = `
        <div class="products-container">
            <img src="./Images/uzumContainer/Like.png" alt="Like list bo'sh">
            <h2 class="product-title">Sizga yoqqanini qo'shing</h2>
            <p class="product-text">Mahsulotdagi ♡ belgisini bosing. Akkauntga kiring va barcha saralanganlar saqlanib qoladi</p>
            <button class="product-btn" id="account__open" onclick="accountOpen()" >Akkauntga kirish</button>
        </div>
    `;
}

function showLikeProduct() {
    LikeProductsBox.innerHTML = ''
    LikeProductsBox.innerHTML = `
        <div class="likeProduct-box page__size">
             ${LikeProducts.map((product, index) => {
        return `
        <div class="product__item">
            <div class="product__image">
                <div class="image__cover"></div>
                <div class="image__box">
                    <img src="${product.imge}" alt="${product.image__alt}">
                </div>
                <div class="heart__box">
                   <button class="heart__btn" onclick="likeProduct(${product.id})">
                        <i class='bx bx-heart heart'></i>
                        <i class='bx bxs-heart heart heart__hidden'></i>
                   </button>
                </div>
            </div>
            <div class="product__content__box">
                <div class="product__about__box">
                    <p class="conten__text">${product.product__content}</p>
                </div>
                <div class="degree__box">
                    <div class="degree__value__box">
                        <i class='bx bxs-star'></i>
                        <span class="degree__value">${product.degree}</span>
                    </div>
                    <div class="comment__box">
                        <span class="comment__number">
                            (${product.comment} sharhlar)
                        </span>
                    </div>
                </div>
                <div class="installment__payment__box">
                    <span class="installment__payment">${product.installmentPayment}</span>
                </div>
                 <div class="price__box">
                           <div class="product__price">
                               <span class="old__price">
                                   <del>${product.old__price}</del>
                               </span>
                               <span class="new__price">${product.new__price}</span>
                           </div>
                           <div class="shop__box">
                               <button class="shop__btn" onclick="shopProduct(${product.id})">
                                   <svg width="24" height="25" viewBox="0 0 24 25" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                       <path
                                           d="M8 10.3401V8.34009H6V12.8401C6 13.1162 5.77614 13.3401 5.5 13.3401C5.22386 13.3401 5 13.1162 5 12.8401V7.34009H8C8 4.93637 9.95227 3.34009 12 3.34009C14.0575 3.34009 16 5.04565 16 7.34009H19V19.8401C19 20.6685 18.3284 21.3401 17.5 21.3401H12.5C12.2239 21.3401 12 21.1162 12 20.8401C12 20.564 12.2239 20.3401 12.5 20.3401H17.5C17.7761 20.3401 18 20.1162 18 19.8401V8.34009H16V10.3401H15V8.34009H9V10.3401H8ZM12 4.34009C10.4477 4.34009 9 5.54381 9 7.34009H15C15 5.63453 13.5425 4.34009 12 4.34009Z"
                                           fill="#15151A" />
                                       <path
                                           d="M7.5 14.3401C7.77614 14.3401 8 14.564 8 14.8401V17.3401H10.5C10.7761 17.3401 11 17.564 11 17.8401C11 18.1162 10.7761 18.3401 10.5 18.3401H8V20.8401C8 21.1162 7.77614 21.3401 7.5 21.3401C7.22386 21.3401 7 21.1162 7 20.8401V18.3401H4.5C4.22386 18.3401 4 18.1162 4 17.8401C4 17.564 4.22386 17.3401 4.5 17.3401H7V14.8401C7 14.564 7.22386 14.3401 7.5 14.3401Z"
                                           fill="#15151A" />
                                   </svg>
                               </button>
                           </div>
                       </div>
            </div>
        </div>
                `;
    }).join('')} 
        </div>
    `
    toggleLike()
}

function updateLikeProductsUI() {
    LikeProductsBox.innerHTML = '';

    if (LikeProducts.length === 0) {
        showEmptyLikeProductsUI()
    } else {
        showLikeProduct(LikeProducts, LikeProductsBox)
    }
}

LikeProductBtn.addEventListener('click', () => {
    swiperBannerBox.classList.add('hidden');
    karzinkaBox.remove()
    LikeProductsBox.innerHTML = ''
    if (!main.contains(LikeProductsBox)) {
        main.prepend(LikeProductsBox);
    }
    updateLikeProductsUI();
});

// Savatcha qismi
let cart = JSON.parse(localStorage.getItem('cart')) || [];

function shopProduct(productId) {
    const button = document.querySelector(`button.shop__btn[onclick="shopProduct(${productId})"]`);

    if (button) {
        const svg = button.querySelector('svg');
        const checkIcon = button.querySelector('.bx-check');

        if (svg && checkIcon) {
            svg.classList.add('hidden');
            checkIcon.classList.remove('hidden');

            setTimeout(() => {
                svg.classList.remove('hidden');
                checkIcon.classList.add('hidden');
            }, 1000);
        }
    }

    console.log(`Product with ID ${productId} added to the cart!`);

    const product = product__data.find(item => item.id === productId);

    if (product) {
        const existingProduct = cart.find(item => item.id === productId);
        if (existingProduct) {
            existingProduct.quantity += 1;
        } else {
            cart.push({ ...product, quantity: 1 });
        }
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartUI();
    } else {
        alert("Mahsulot topilmadi!");
    }
}

function updateCartUI() {
    karzinkaBox.innerHTML = '';

    if (cart.length === 0) {
        showEmptyCart();
    } else {
        showCartProducts();
    }
}

function removeFromCart(index) {
    cart.splice(index, 1);
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartUI();
}

function showEmptyCart() {
    karzinkaBox.innerHTML = `
         <div class="products-container">
            <img src="./Images/uzumContainer/mushuk.png" alt="Like list bo'sh">
            <h2 class="product-title">Savatingiz hozircha bo‘sh</h2>
            <p class="product-text">Bosh sahifadan boshlang — kerakli tovarni qidiruv orqali topishingiz yoki to‘plamlarni ko‘rishingiz mumkin</p>
            <button class="product-btn home__page">Bosh sahifa</button>
        </div>
    `;
}

function showCartProducts() {
    const { kun, oyNomi } = getCurrentDate();
    let totalPrice = 0;

    karzinkaBox.innerHTML = `
        <div class="my__product-box">
            <div class="shopping__product-box page__size">
                <div class="my__product">
                    <h2 class="my__product-title">
                        Savatingizda, <span class="my__product__theNumber">${cart.length} mahsulot</span> 
                    </h2>
                </div>
                <div class="product__shop-box">
                    <div class="shopping__product-item">
                        ${cart.map((item, index) => {
        totalPrice += parseFloat(item.new__price) * (item.quantity || 1);
        return `
                        <div class="cart-item">
                            <div class="cart-item-box">
                                <span>
                                    <p class="cart-item-text">Uzum Market omborida</p>
                                    <p class="cart-item-date">${kun + 1}-${oyNomi}dan boshlab yetkazamiz</p>
                                </span>
                            </div>
                            <div class="cart-item-box">
                                <div class="product__image-box">
                                    <img class="product__image-shop" src="${item.imge}">
                                </div>
                                <div class="product__about">
                                    <p class="product-text">${item.product__content}</p>
                                    <p class="product-seller product-text">Sotuvchi</p>
                                </div>
                                <div class="product__number-shop-box">
                                    <button class="noselect decrement" data-index="${index}">-</button>
                                    <input class="product__number-input" type="number" value="${item.quantity}" data-index="${index}">
                                    <button class="noselect increment" data-index="${index}">+</button>
                                </div>
                                <div class="shop-product-price">
                                    <button class="product__delete__bnt" data-index="${index}">
                                    <i class='bx bx-trash'></i>
                                    <span>Yo'q qilish</span>
                                    </button>
                                    <p class="product__newPrice">${item.new__price}</p>
                                    <del class="product__oldPrice">${item.old__price}</del>
                                </div>
                            </div>
                        </div>
                        `;
    }).join('')}
                    </div>
                </div>
            </div>
            <div class="clearance__box">
                <h3 class="clearance__title">Buyurtmangiz</h3>
                <div class="clearance__price-box">
                    <span>Mahsulotlar (${cart.length})</span>
                    <span>${totalPrice} 000 so'm</span>
                </div>
                <div class="deliver-box">
                    <p class="deliver-date">${kun + 1}-${oyNomi}dan boshlab yetkazamiz</p>
                </div>
                <div class="total-price-box">
                    <span class="total-price-text">
                        Umumiy narx:
                    </span>
                    <span class="total-price">
                        ${totalPrice} 000 so'm
                    </span>
                </div>
                <div class="clearance__btn-box">
                    <button class="clearance__btn">
                        Buyurtmani rasmiylashtirish
                    </button>
                </div>
            </div>
        </div>
    `;
}

function getCurrentDate() {
    const today = new Date();
    const yil = today.getFullYear();
    const oyRaqami = today.getMonth();
    const kun = today.getDate();

    const oyNomlari = [
        'Yanvar', 'Fevral', 'Mart', 'Aprel', 'May', 'Iyun',
        'Iyul', 'Avgust', 'Sentyabr', 'Oktyabr', 'Noyabr', 'Dekabr'
    ];

    const oyNomi = oyNomlari[oyRaqami];
    return { kun, oyNomi, yil };
}

karzinkaBtn.addEventListener('click', () => {
    swiperBannerBox.classList.add('hidden');
    karzinkaBox.innerHTML = ''
    LikeProductsBox.remove()
    if (!main.contains(karzinkaBox)) {
        main.prepend(karzinkaBox);
    }
    updateCartUI();
});

karzinkaBox.addEventListener('click', (e) => {
    if (e.target.classList.contains('home__page')) {
        swiperBannerBox.classList.remove('hidden');
        karzinkaBox.remove();
    }

    if (e.target.closest('.product__delete__bnt')) {
        const index = e.target.closest('.product__delete__bnt').getAttribute('data-index');
        removeFromCart(index);
    }

    if (e.target.classList.contains('increment')) {
        const index = e.target.getAttribute('data-index');
        cart[index].quantity += 1;
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartUI();
    }

    if (e.target.classList.contains('decrement')) {
        const index = e.target.getAttribute('data-index');
        cart[index].quantity = Math.max(0, cart[index].quantity - 1);

        if (cart[index].quantity === 0) {
            cart.splice(index, 1);
        }

        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartUI();
    }

});

karzinkaBox.addEventListener('input', (e) => {
    if (e.target.classList.contains('product__number-input')) {
        const index = e.target.getAttribute('data-index');
        const value = parseInt(e.target.value, 10) || 1;
        cart[index].quantity = Math.max(1, value);
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartUI();
    }
});

document.addEventListener('DOMContentLoaded', updateCartUI);

let accountBtn = document.getElementById('account-btn')

accountBtn.addEventListener('click', () => {
    accountOpen()
})

function accountOpen() {
    window.open('./account.html')
    window.close()
}

const searchInput = document.getElementById("search");
const resultsContainer = document.getElementById("search-product-results");
const searchIcon = document.getElementById('search-icon');

searchIcon.addEventListener("input", () => {
    const searchText = searchInput.value.toLowerCase();
    const filteredProducts = product__data.filter(product =>
        product.product__content.toLowerCase().includes(searchText)
    );

    displayResults(filteredProducts);
});

searchInput.addEventListener("input", () => {
    const searchText = searchInput.value.toLowerCase();
    const filteredProducts = product__data.filter(product =>
        product.product__content.toLowerCase().includes(searchText)
    );

    displayResults(filteredProducts);
});

function displayResults(filteredProducts) {
    document.querySelector('.search-product-container').style.display = "block"
    resultsContainer.innerHTML = "";
    if (filteredProducts.length === 0) {
    } else if (filteredProducts.length !== 0) {
        swiperBannerBox.innerHTML = ''
        filteredProducts.forEach(product => {
            const productElement = document.createElement("div");
            productElement.innerHTML = `
            <div class="product__item">
                <div class="product__image">
                    <div class="image__cover"></div>
                    <div class="image__box">
                        <img src="${product.imge}" alt="${product.image__alt}">
                    </div>
                    <div class="heart__box">
                        <button class="heart__btn" onclick="likeProduct(${product.id})" data-product-id="${product.id}">
                            <i class='bx bx-heart heart'></i>
                            <i class='bx bxs-heart heart heart__hidden'></i>
                        </button>
                    </div>
                </div>
                <div class="product__content__box">
                <div class="product__about__box">
                    <p class="conten__text">${product.product__content}</p>
                </div>
                <div class="degree__box">
                    <div class="degree__value__box">
                        <i class='bx bxs-star'></i>
                        <span class="degree__value">${product.degree}</span>
                    </div>
                    <div class="comment__box">
                        <span class="comment__number">
                            (${product.comment} sharhlar)
                        </span>
                    </div>
                </div>
                <div class="installment__payment__box">
                    <span class="installment__payment">${product.installmentPayment}</span>
                </div>
                 <div class="price__box">
                           <div class="product__price">
                               <span class="old__price">
                                   <del>${product.old__price}</del>
                               </span>
                               <span class="new__price">${product.new__price}</span>
                           </div>
                           <div class="shop__box">
                               <button class="shop__btn" onclick="shopProduct(${product.id})">
                                   <svg width="24" height="25" viewBox="0 0 24 25" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                       <path
                                           d="M8 10.3401V8.34009H6V12.8401C6 13.1162 5.77614 13.3401 5.5 13.3401C5.22386 13.3401 5 13.1162 5 12.8401V7.34009H8C8 4.93637 9.95227 3.34009 12 3.34009C14.0575 3.34009 16 5.04565 16 7.34009H19V19.8401C19 20.6685 18.3284 21.3401 17.5 21.3401H12.5C12.2239 21.3401 12 21.1162 12 20.8401C12 20.564 12.2239 20.3401 12.5 20.3401H17.5C17.7761 20.3401 18 20.1162 18 19.8401V8.34009H16V10.3401H15V8.34009H9V10.3401H8ZM12 4.34009C10.4477 4.34009 9 5.54381 9 7.34009H15C15 5.63453 13.5425 4.34009 12 4.34009Z"
                                           fill="#15151A" />
                                       <path
                                           d="M7.5 14.3401C7.77614 14.3401 8 14.564 8 14.8401V17.3401H10.5C10.7761 17.3401 11 17.564 11 17.8401C11 18.1162 10.7761 18.3401 10.5 18.3401H8V20.8401C8 21.1162 7.77614 21.3401 7.5 21.3401C7.22386 21.3401 7 21.1162 7 20.8401V18.3401H4.5C4.22386 18.3401 4 18.1162 4 17.8401C4 17.564 4.22386 17.3401 4.5 17.3401H7V14.8401C7 14.564 7.22386 14.3401 7.5 14.3401Z"
                                           fill="#15151A" />
                                   </svg>
                                   <i class='bx bx-check hidden'></i>
                               </button>
                           </div>
                       </div>
                    </div>
            </div>            `;
            resultsContainer.appendChild(productElement);
        });
    }
}

let uzumContactBtn = document.getElementById('contact-btn')
let uzumContactBox = document.createElement('div')
uzumContactBox.classList.add('contact-wrap')
uzumContactBtn.addEventListener('click', () => {
    uzumContactBox.innerHTML = `
        <div class="contact-hidden" id="contact-hidden"></div>
        <div class="contact-content-box">
            <div class="contact-title-box">
                <h4 class="contact-title">
                    Biz bilan bogʻlanish
                </h4>
                <button class="contact-back-btn" id="contact-back-btn">
                    <i class='bx bx-x'></i>
                </button>
            </div>
            <div class="contact-content">
                 <p class="contact-text">
                    Mutaxassislarimizga sizga qulay ijtimoiy tarmoq chati yoki telefon orqali savol bering:
                 </p>
                <div class="contact-link-box">
                    <a class="contact-link" href="https://t.me/Uzum_Support_Bot" target="_blank">
                        <div class="netork-wrap telegram-box">
                            <i class='bx bxl-telegram'></i>
                        </div>
                        <p class="contact-link-text">
                            Telegram
                        </p>
                    </a>
                    <a class="contact-link" href="#" >
                        <div class="netork-wrap phone-box">
                            <i class='bx bxs-phone'></i>
                        </div>
                        <p class="contact-link-text">
                            +998 (78) 150-11-15
                        </p>
                    </a>
                </div>
                <div class="contact-content">
                    <p class="contact-text">
                        Qoʻllab-quvvatlash xizmatining email manzili:
                        <br>
                        <a class="email-link'" href="mailto:support@uzum.com" target="_blank">
                            support@uzum.com
                        </a>
                    </p>
                </div>
            </div>
        </div>
    `
    document.body.prepend(uzumContactBox);

    let contactHiddenBtn = document.getElementById('contact-hidden');
    contactHiddenBtn.addEventListener("click", () => {
        uzumContactBox.innerHTML = '';
    });

    let contactCloseBtn = document.getElementById('contact-back-btn');
    contactCloseBtn.addEventListener("click", () => {
        uzumContactBox.innerHTML = '';
    });

})

let navListData = [
    {
        catalog: "Elektronika",
        id: 1,
        sections: [
            {
                sectionName: "Smartfonlar va telefonlar",
                sectionList: [
                    "Smartfonlar uchun aksessuarlar",
                    "Smartfonlar",
                    "Knopkali telefonlar",
                    "Ehtiyot qismlar va ta'mirlash",
                    "Statsionar telefonlar"
                ]
            },
            {
                sectionName: " Noutbuklar, planshetlar va elektron kitoblar",
                sectionList: [
                    "Noutbuklar",
                    "Planshetlar va elektron kitoblar",
                    "Noutbuk uchun aksessuarlar"
                ]
            },
            {
                sectionName: "Quloqchinlar va audio texnikalar",
                sectionList: [
                    "Quloqchinlar",
                    "Audiotexnika",
                    "Proigrivatel uchun aksessuarlar",
                    "Periferiya va aksessuarlar"
                ]
            },
            {
                sectionName: "Soatlar va elektron budilniklar",
                sectionList: [
                    "Elektron budilniklar",
                    "Proyeksiya soatlari",
                    "Aromabudilniklar va katrijlar",
                    "Radio budilniklar"
                ]
            },
            {
                sectionName: "Kvadrokopterlar va aksessuarlar",
                sectionList: [
                    " Kvadrokopterlar uchun aksessuarlar ",
                    "Kvadrokopterlar",
                ]
            },
            {
                sectionName: "Optik anjomlar",
                sectionList: [
                    "Mikroskoplar",
                    "Okulyarlar",
                    "Teleskoplar",
                    "Teatr binoklari"
                ]
            },
        ]
    },
    {
        catalog: "Maishiy texnika",
        id: 2,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Kiyim",
        id: 3,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Poyabzallar",
        id: 4,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Aksessuarlar",
        id: 5,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Goʻzallik va parvarish",
        id: 6,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Salomatlik",
        id: 7,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Uy-roʻzgʻor buyumlari",
        id: 8,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Qurilish va taʼmirlash",
        id: 9,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Bolalar tovarlari",
        id: 10,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Xobbi va ijod",
        id: 11,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Sport va hordiq",
        id: 12,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Oziq-ovqat mahsulotlari",
        id: 13,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Maishiy kimyoviy moddalar",
        id: 14,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Kanselyariya tovarlari",
        id: 15,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Hayvonlar uchun tovarlar",
        id: 16,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Dacha, bogʻ va tomorqa",
        id: 17,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    },
    {
        catalog: "Reabilitatsiya uchun subsidiyalangan mahsulotlar",
        id: 18,
        sections: [
            {
                sectionName: "Goʻzallik uchun texnika",
                sectionList: [
                    "Soch turmaklash",
                    "Soch kesish",
                    "Elektr ustaralar"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Iqlim texnikasi",
                sectionList: [
                    "Ventilyatorlar",
                    "Havoni tozalash va namlashtirish",
                    "Konditsionerlar va split tizimlar",
                    "Isitgichlar",
                    "Havo sovutgichlari",
                    "Suv isitgichlari va isitish qozonlari"
                ]
            },
            {
                sectionName: "Oshxona texnikalari",
                sectionList: [
                    "Maydalash va aralashtirish",
                    "Qovurish va pishirish uskunalari",
                    "Elektr choynak va termopotlar",
                    "Boshqa oshxona texnikalari",
                ]
            },
            {
                sectionName: "Katta maishiy texnika",
                sectionList: [
                    "Suv uchun kulerlar va aksessuarlar",
                    "Katta maishiy texnika uchun aksessuarlar",
                    "Sovutgichlar va mulatgichlar",
                    "Kirsh yuvish mashinalari",
                ]
            },
        ]
    }
];
let navList = document.getElementById('nav__list');

navListData.forEach((navItem) => {
    navList.innerHTML += `
        <li class="nav__item">
            <a href="#" class="nav__link">${navItem.catalog}</a>
        </li>
    `;
});

let catalogBtn = document.getElementById('btn__catalog');
let moreNavBtn = document.getElementById('more-btn');
let catalogX = document.getElementById('catalob-x');
let catalogIcon = document.getElementById('catolog-icon');
let catalogNavListWrap = document.getElementById('catalog-nav-list');

let wrapperTransition = document.createElement('div');
let modalCatalog = document.createElement('div');
let navWrapper = document.createElement('nav');

wrapperTransition.classList.add('wrapper-transition');
modalCatalog.classList.add('modal-catalog');
navWrapper.classList.add('nav-wrap-catalog');

function catalogAdd() {
    if (catalogNavListWrap.style.display === "block") {
        catalogNavListWrap.style.display = "none";
        catalogX.style.display = "none";
        catalogIcon.style.display = "block";
    } else {
        catalogNavListWrap.style.display = "block";
        catalogX.style.display = "block";
        catalogIcon.style.display = "none";

        // Kontentni yaratamiz
        navWrapper.innerHTML = `
            <div class="catalog-box">
                <ul class="calatog-list">
                    ${navListData.map((item) => {
            return `
                            <li class="catalog__item" data-id="${item.id}">
                                <a href="#" class="catalog__link">
                                ${item.catalog} 
                                </a>
                            </li>
                        `;
        }).join('')}
                </ul>
            </div>
            <div class="catalog-section">
                <h2 class="catalog__title"></h2>
                <div class="sections-wrapper"></div>
            </div>
        `;

        const catalogItem = navWrapper.querySelectorAll('.catalog__item');
        const catalogTitle = navWrapper.querySelector('.catalog__title');
        const sectionsWrapper = navWrapper.querySelector('.sections-wrapper');

        catalogItem.forEach((link) => {
            link.addEventListener('mouseover', () => {
                const catalogId = parseInt(link.getAttribute('data-id'));
                const catalogData = navListData.find(item => item.id === catalogId);

                catalogTitle.textContent = catalogData.catalog;

                sectionsWrapper.innerHTML = catalogData.sections.map(section => {
                    return `
                        <div class="section">
                            <h3 class="catalog__title__section">${section.sectionName}</h3>
                            <ul class="catalog-section-list">
                                ${section.sectionList.map(item => `
                                    <li class="catalog-section-item">
                                        <a class="catalog-section-link" href="#">${item}</a>
                                    </li>`).join('')}
                            </ul>
                        </div>
                    `;
                }).join('');
            });
        });

        modalCatalog.appendChild(navWrapper);
        wrapperTransition.appendChild(modalCatalog);
        catalogNavListWrap.appendChild(wrapperTransition);
    }
}

catalogBtn.addEventListener('click', () => {
    catalogAdd()
});

moreNavBtn.addEventListener('click', () => {
    catalogAdd()
});
